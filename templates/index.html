<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>天眼</title>
	<link href="./mycss.css" type="text/css" rel="stylesheet" />
	<head>
    <title>测试</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/css/bootstrap.css">

    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/bootstrap.js"></script>
    <script type="text/javascript" src="static/js/echarts.min.js"></script>
    <script type="text/javascript" src="static/js/word-cloud.js"></script>
    <script type="text/javascript" src="static/js/tu.js"></script>
</head>

</head>
<body class="bg">
	<div class="container">
		<div class="row clearfix">
			<div class="col-md-12 column">

			</div>
		</div>
		<div class="row clearfix">
			<div class="col-md-4 column">
				<div id="bingzhuangtu" style="height:300px"></div>
			</div>
			<div class="col-md-4 column">
				<div id="zhuzhuangtu" style="height:300px"></div>
			</div>
			<div class="col-md-4 column">
				<div id="bingzhuangtu2" style="height:300px"></div>
			</div>
		</div>
	</div>
</body>



























































<script type="text/javascript">
var dom = document.getElementById("zhuzhuangtu");
var myChart = echarts.init(dom);
var app = {};
option = null;
option = {
    xAxis: {
        type: 'category',
        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
    },
    yAxis: {
        type: 'value'
    },
    series: [{
        data: [120, 200, 150, 80, 70, 110, 130],
        type: 'bar'
    }]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
</script>



<script type="text/javascript">

function push_category_count(result) {
var dom = document.getElementById("bingzhuangtu");
var myChart = echarts.init(dom);
var app = {};
option = null;
app.title = '环形图';

option = {
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b}: {c} ({d}%)"
    },
    legend: {
        orient: 'vertical',
        x: 'left',
        data:result['category']
    },
    series: [
        {
            name:'访问来源',
            type:'pie',
            radius: ['50%', '70%'],
            avoidLabelOverlap: false,
            label: {
                normal: {
                    show: false,
                    position: 'center'
                },
                emphasis: {
                    show: true,
                    textStyle: {
                        fontSize: '30',
                        fontWeight: 'bold'
                    }
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
			data:result['data']
            // data:[
            //     {value:335, name:'体育'},
            //     {value:310, name:'邮件营销'},
            //     {value:234, name:'联盟广告'},
            //     {value:135, name:'视频广告'},
            //     {value:1548, name:'搜索引擎'}
            // ]
        }
    ]
};



;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}}
</script>



<script type="text/javascript">
    function get_category() {
        jQuery.ajax({
            url: '/categorycount',
            type: 'get',
            async: true,
            dataType: 'json',
            success: function (result) {
                var info_news = result;
                alert(info_news['category'])
                push_category_count(info_news);
            },
            error: function (result) {
                console.log('异常');
            }
        })
    }
</script>

<script>get_category()</script>

</html>